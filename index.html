<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>إلى إشراق الحبردي</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#ffe6f2; --paper:#ffeba6; --ink:#4a2c6d;
      --env-1:#ffc6dc; --env-2:#ff9fc2; --env-3:#ff84b3;
      --shadow:0 18px 35px rgba(33,20,53,.25);
      --heart:#e25555; --radius:14px;
      --hearts:url("data:image/svg+xml;utf8,\
        <svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'>\
          <g fill='%23ffffff' opacity='.30'>\
            <path d='M60 35c0-9 7.2-16.5 16.2-16.5c5.7 0 10.5 3 13.3 7.8C91.8 21 96.8 18 102.5 18C111.5 18 118.7 25 118.7 34c0 21-29.7 32.4-36.2 48c-6.5-15.6-36.2-27-36.2-48z'/>\
          </g>\
        </svg>");
    }

    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
      background:var(--bg); font-family:"Tajawal",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      color:var(--ink); position:relative; overflow-x:hidden;
    }
    /* قلوب كبيرة بخلفية الصفحة */
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; opacity:.35;
      background-image:url("data:image/svg+xml;utf8,\
        <svg xmlns='http://www.w3.org/2000/svg' width='240' height='240' viewBox='0 0 240 240'>\
          <g fill='%23ffffff' opacity='.7'>\
            <path d='M120 70c0-18 14.4-33 32.4-33c11.4 0 21 6 26.6 15.6C184 45 193.6 39 205 39c18 0 32.4 15 32.4 33c0 42-59.4 64.8-72.4 96c-13-31.2-72.4-54-72.4-96z'/>\
          </g></svg>");
      background-size:260px 260px; background-repeat:repeat;
    }

    .stage{width:min(94vw, 500px); display:grid; gap:14px; place-items:center; padding:24px 12px 84px; position:relative; z-index:1;}
    .envelope-wrap{width:100%; perspective:1200px; cursor:pointer; user-select:none;}
    .envelope{width:100%; aspect-ratio:4/3; position:relative; filter:drop-shadow(var(--shadow)); border-radius:var(--radius);}
    @media (max-width:600px){ .envelope{aspect-ratio:10/13;} }

    /* جسم الظرف + القلوب (باستخدام طبقة إضافية لضمان الظهور) */
    .body{
      position:absolute; inset:0; border-radius:var(--radius); overflow:hidden; z-index:3;
      background:linear-gradient(180deg,#ffd3e3 0%, var(--env-1) 45%, #ffb3cf 100%);
    }
    .body::after{
      content:""; position:absolute; inset:0;
      background-image:var(--hearts); background-size:170px 170px; background-repeat:repeat;
      opacity:.35; pointer-events:none;
    }

    /* الجيب الأمامي */
    .pocket{
      position:absolute; inset:38% 0 0 0; z-index:4;
      background:linear-gradient(180deg,#ff9fc2 0%, var(--env-3) 65%);
      clip-path:polygon(0 0, 50% 18%, 100% 0, 100% 100%, 0 100%);
      border-bottom-left-radius:var(--radius); border-bottom-right-radius:var(--radius);
    }

    /* الغطاء + القلوب */
    .flap{
      position:absolute; inset:-2px -2px 48% -2px; z-index:6;
      transform-origin:top; transform:rotateX(0deg);
      transition:transform .8s cubic-bezier(.2,.7,.2,1);
      background:linear-gradient(180deg, var(--env-2) 0%, #ff87b7 100%);
      clip-path:polygon(0 0, 100% 0, 50% 68%);
      border-top-left-radius:var(--radius); border-top-right-radius:var(--radius);
    }
    .flap::after{
      content:""; position:absolute; inset:0;
      background-image:var(--hearts); background-size:180px 180px; background-repeat:repeat;
      opacity:.35; pointer-events:none; border-top-left-radius:var(--radius); border-top-right-radius:var(--radius);
    }

    /* الختم */
    .seal{
      position:absolute; top:32%; left:50%; width:52px; height:52px; z-index:7;
      transform:translate(-50%, -50%) scale(1);
      transition:transform .6s ease, opacity .6s ease;
      filter:drop-shadow(0 4px 8px rgba(0,0,0,.25));
    }
    .seal .wax{fill:var(--heart)} .seal .shine{fill:#fff; opacity:.25}

    /* الورقة الصفراء */
    .letter{
      position:absolute; inset:10px; z-index:5; /* بين الجيب والغطاء عند الإغلاق */
      background:var(--paper); border-radius:10px;
      padding:20px 16px 18px;
      box-shadow:none; /* لا ظل عند الإغلاق */
      transform:translateY(60%) rotateX(-10deg);
      transform-origin:bottom;
      opacity:0; visibility:hidden; /* مخفية تمامًا عند الإغلاق */
      transition:transform .8s cubic-bezier(.2,.7,.2,1), opacity .4s, box-shadow .2s, visibility .4s;
      display:flex; align-items:flex-start; justify-content:center; text-align:center;
      max-height:calc(100% - 20px);
      overflow:auto; -webkit-overflow-scrolling:touch;
    }
    /* حالة الفتح: تظهر بالكامل فوق الكل */
    .envelope.open .letter{
      z-index:10;
      transform:translateY(0) rotateX(0);
      opacity:1; visibility:visible;
      box-shadow:0 10px 24px rgba(0,0,0,.12);
    }

    .letter .content{color:var(--ink); line-height:1.9; font-size:1.02rem; word-break:break-word; overflow-wrap:anywhere;}
    .letter .content p{margin:0 0 10px 0;}
    /* عنوان بسيط بدون أي قالب غريب */
    .letter .dedication{
      margin:0 0 10px 0; font-weight:700; font-size:1.12rem; color:#3e1b86;
    }

    /* حركة الفتح */
    .envelope.open .flap{transform:rotateX(180deg);}
    .envelope.open .seal{transform:translate(-50%,-120%) scale(.7); opacity:0;}

    .hint{color:#6a0dad; font-weight:700; font-size:.95rem; animation:pulse 1.6s infinite; margin-top:6px;}
    @keyframes pulse{0%{transform:translateY(0);opacity:1}60%{transform:translateY(-2px);opacity:.8}100%{transform:translateY(0);opacity:1}}

    footer{position:fixed; inset:auto 0 10px 0; display:flex; justify-content:center; pointer-events:none; font-weight:700; letter-spacing:.6px; color:#6a0dad; text-shadow:0 1px 0 #fff8;}
    footer .tag{background:#ffffffb3; padding:8px 14px; border-radius:999px; box-shadow:0 6px 14px rgba(107,33,168,.18); pointer-events:auto; backdrop-filter:blur(4px);}
  </style>
</head>
<body>

  <main class="stage">
    <div class="envelope-wrap" aria-label="افتح/أغلق الظرف">
      <!-- نبدأ مغلق (الرسالة لا تظهر) -->
      <div class="envelope" id="envelope">
        <div class="body"></div>
        <div class="pocket"></div>
        <div class="flap"></div>

        <div class="seal" aria-hidden="true">
          <svg viewBox="0 0 64 64">
            <circle class="wax" cx="32" cy="32" r="24"/>
            <path class="shine" d="M22 20a7 7 0 0 1 9 2a7 7 0 0 1 9-2c6 4 5 12-1 17s-8 7-8 7s-2-2-8-7s-7-13-1-17z"/>
          </svg>
        </div>

        <article class="letter">
          <div class="content">
            <h3 class="dedication">إلى المديرة الملهمة وقائدة الرحلة: إشراق محمد الحبردي</h3>
            <p>أكتب لكِ امتنانًا يليق بما صنعتِه في داخلي؛ فبفضل حضورك، كبرت ثقتي بالعمل الذي أقدّمه، وازداد إيماني أن للجهد قيمة حين يجد قائدًا يراه، ويحتوي أثره، ويمنحه معنى.</p>
            <p>كنتِ بالنسبة لي أكثر من مديرة؛ كنتِ بوصلةً تُعيد ترتيب الأولويات، وصوتَ اتزانٍ يُنصف، وملمحَ إنسانيةٍ يجعل التفاصيل اليومية أقل ثِقلاً وأكثر جمالًا.</p>
            <p>وفي حضورك، أدركت أن القيادة ليست تعليمات تُلقى من بعيد، بل قربٌ يجعل الطريق أوضح والمسؤولية أخف.</p>
            <p>مكتبكِ لم يكن باب إدارة، بل مساحة أمان يُستقبل فيها الحضور بالثقة؛ ليس لأنكِ تستمعين فقط، بل لأنكِ تُبادرين بالفعل قبل الطلب، وتُشعرين من يقف أمامك أنه مرئيّ ومهمّ وموضع تقدير حقيقي.</p>
            <p>دمتِ مصدر إلهام بالغ الأثر، ودام عطاؤك شاهدًا على أن التفاني أجمل ما يُترجم به معنى القيادة.</p>
          </div>
        </article>
      </div>
    </div>

    <div id="hint" class="hint">انقري لفتح الظرف </div>
  </main>

  <footer><div class="tag">نـــدى المجيـــرش</div></footer>

  <script>
    const env = document.getElementById('envelope');
    const hint = document.getElementById('hint');
    let open = false;

    const updateHint = () => {
      hint.textContent = open ? 'انقري لإغلاق الظرف' : 'انقري على الظرف لفتحه';
    };

    const toggleEnvelope = () => {
      open = !open;
      env.classList.toggle('open', open);
      updateHint();
    };

    env.addEventListener('click', toggleEnvelope);
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleEnvelope(); }
      if (e.key.toLowerCase() === 'escape' && open) { toggleEnvelope(); }
    });

    updateHint();
  </script>
</body>
</html>
